{"code":"(this[\"webpackJsonpmern-client\"]=this[\"webpackJsonpmern-client\"]||[]).push([[0],{73:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){\"use strict\";n.r(t);var c=n(3),a=n.n(c),r=n(56),i=n.n(r),s=(n(73),n(5)),o=n(11),l=n(6),d=n(64),j=n(91),u=n(93),b=n(90),O=n(62),h=n(9),p=n(57);function m(e,t){return 1===t?e:e+\"s\"}function x(e,t,n){return new Promise((function(c,a){var r,i,s,o=window.indexedDB.open(\"shop-shop\",1);o.onupgradeneeded=function(e){var t=o.result;t.createObjectStore(\"products\",{keyPath:\"_id\"}),t.createObjectStore(\"categories\",{keyPath:\"_id\"}),t.createObjectStore(\"cart\",{keyPath:\"_id\"})},o.onerror=function(e){console.log(\"There was an error\")},o.onsuccess=function(a){switch(r=o.result,i=r.transaction(e,\"readwrite\"),s=i.objectStore(e),r.onerror=function(e){console.log(\"error\",e)},t){case\"put\":s.put(n),c(n);break;case\"get\":var l=s.getAll();l.onsuccess=function(){c(l.result)};break;case\"delete\":s.delete(n._id);break;default:console.log(\"No valid method\")}i.oncomplete=function(){r.close()}}}))}var f=n(65),g=n(25),v=\"UPDATE_PRODUCTS\",y=\"UPDATE_CATEGORIES\",w=\"UPDATE_CURRENT_CATEGORY\",_=\"ADD_TO_CART\",k=\"ADD_MULTIPLE_TO_CART\",N=\"REMOVE_FROM_CART\",C=\"UPDATE_CART_QUANTITY\",S=\"TOGGLE_CART\",T=function(e,t){switch(t.type){case v:return Object(s.a)(Object(s.a)({},e),{},{products:Object(g.a)(t.products)});case y:return Object(s.a)(Object(s.a)({},e),{},{categories:Object(g.a)(t.categories)});case w:return Object(s.a)(Object(s.a)({},e),{},{currentCategory:t.currentCategory});case _:return Object(s.a)(Object(s.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(g.a)(e.cart),[t.product])});case k:return Object(s.a)(Object(s.a)({},e),{},{cart:[].concat(Object(g.a)(e.cart),Object(g.a)(t.products))});case N:var n=e.cart.filter((function(e){return e._id!==t._id}));return Object(s.a)(Object(s.a)({},e),{},{cartOpen:n.length>0,cart:n});case C:return Object(s.a)(Object(s.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case\"CLEAR_CART\":return Object(s.a)(Object(s.a)({},e),{},{cartOpen:!1,cart:[]});case S:return Object(s.a)(Object(s.a)({},e),{},{cartOpen:!e.cartOpen});default:return e}};var E=n(1),A=[\"value\"],$=Object(c.createContext)(),I=$.Provider,D=function(e){e.value;var t,n=Object(f.a)(e,A),a=(t={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:\"\"},Object(c.useReducer)(T,t)),r=Object(h.a)(a,2),i=r[0],o=r[1];return Object(E.jsx)(I,Object(s.a)({value:[i,o]},n))},P=function(){return Object(c.useContext)($)};var Q,R,F,U,L,q=function(e){var t=e.image,n=e.name,c=e._id,a=e.price,r=e.quantity,i=P(),l=Object(h.a)(i,2),d=l[0],j=l[1],u=d.cart;return Object(E.jsxs)(\"div\",{className:\"card px-1 py-1\",children:[Object(E.jsxs)(o.b,{to:\"/products/\".concat(c),children:[Object(E.jsx)(\"img\",{alt:n,src:\"/images/\".concat(t)}),Object(E.jsx)(\"p\",{children:n})]}),Object(E.jsxs)(\"div\",{children:[Object(E.jsxs)(\"div\",{children:[r,\" \",m(\"item\",r),\" in stock\"]}),Object(E.jsxs)(\"span\",{children:[\"$\",a]})]}),Object(E.jsx)(\"button\",{onClick:function(){var t=u.find((function(e){return e._id===c}));t?(j({type:C,_id:c,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),x(\"cart\",\"put\",Object(s.a)(Object(s.a)({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(j({type:_,product:Object(s.a)(Object(s.a)({},e),{},{purchaseQuantity:1})}),x(\"cart\",\"put\",Object(s.a)(Object(s.a)({},e),{},{purchaseQuantity:1})))},children:\"Add to cart\"})]})},W=n(22),B=n(92),G=Object(B.a)(Q||(Q=Object(W.a)([\"\\n  query getProducts($category: ID) {\\n    products(category: $category) {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      image\\n      category {\\n        _id\\n      }\\n    }\\n  }\\n\"]))),Y=(Object(B.a)(R||(R=Object(W.a)([\"\\n  {\\n    products {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      }\\n    }\\n  }\\n\"]))),Object(B.a)(F||(F=Object(W.a)([\"\\n  {\\n    categories {\\n      _id\\n      name\\n    }\\n  }\\n\"])))),M=Object(B.a)(U||(U=Object(W.a)([\"\\n  {\\n    user {\\n      firstName\\n      lastName\\n      orders {\\n        _id\\n        purchaseDate\\n        products {\\n          _id\\n          name\\n          description\\n          price\\n          quantity\\n          image\\n        }\\n      }\\n    }\\n  }\\n\"]))),H=Object(B.a)(L||(L=Object(W.a)([\"\\n  query getCheckout($products: [ID]!) {\\n    checkout(products: $products) {\\n      session\\n    }\\n  }\\n\"]))),J=n.p+\"static/media/spinner.689d9a07.gif\";var z=function(){var e=P(),t=Object(h.a)(e,2),n=t[0],a=t[1],r=n.currentCategory,i=Object(p.b)(G),s=i.loading,o=i.data;return Object(c.useEffect)((function(){o?(a({type:v,products:o.products}),o.products.forEach((function(e){x(\"products\",\"put\",e)}))):s||x(\"products\",\"get\").then((function(e){a({type:v,products:e})}))}),[o,s,a]),Object(E.jsxs)(\"div\",{className:\"my-2\",children:[Object(E.jsx)(\"h2\",{children:\"Our Products:\"}),n.products.length?Object(E.jsx)(\"div\",{className:\"flex-row\",children:(r?n.products.filter((function(e){return e.category._id===r})):n.products).map((function(e){return Object(E.jsx)(q,{_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity},e._id)}))}):Object(E.jsx)(\"h3\",{children:\"You haven't added any products yet!\"}),s?Object(E.jsx)(\"img\",{src:J,alt:\"loading\"}):null]})};var V=function(){var e=P(),t=Object(h.a)(e,2),n=t[0],a=t[1],r=n.categories,i=Object(p.b)(Y),s=i.loading,o=i.data;return Object(c.useEffect)((function(){o?(a({type:y,categories:o.categories}),o.categories.forEach((function(e){x(\"categories\",\"put\",e)}))):s||x(\"categories\",\"get\").then((function(e){a({type:y,categories:e})}))}),[o,s,a]),Object(E.jsxs)(\"div\",{children:[Object(E.jsx)(\"h2\",{children:\"Choose a Category:\"}),r.map((function(e){return Object(E.jsx)(\"button\",{onClick:function(){var t;t=e._id,a({type:w,currentCategory:t})},children:e.name},e._id)}))]})},K=n(24),X=n(16),Z=n.n(X),ee=function(e){var t=e.item,n=P(),c=Object(h.a)(n,2)[1];return Object(E.jsxs)(\"div\",{className:\"flex-row\",children:[Object(E.jsx)(\"div\",{children:Object(E.jsx)(\"img\",{src:\"/images/\".concat(t.image),alt:\"\"})}),Object(E.jsxs)(\"div\",{children:[Object(E.jsxs)(\"div\",{children:[t.name,\", $\",t.price]}),Object(E.jsxs)(\"div\",{children:[Object(E.jsx)(\"span\",{children:\"Qty:\"}),Object(E.jsx)(\"input\",{type:\"number\",placeholder:\"1\",value:t.purchaseQuantity,onChange:function(e){var n=e.target.value;\"0\"===n?(c({type:N,_id:t._id}),x(\"cart\",\"delete\",Object(s.a)({},t))):(c({type:C,_id:t._id,purchaseQuantity:parseInt(n)}),x(\"cart\",\"put\",Object(s.a)(Object(s.a)({},t),{},{purchaseQuantity:parseInt(n)})))}}),Object(E.jsx)(\"span\",{role:\"img\",\"aria-label\":\"trash\",onClick:function(){return function(e){c({type:N,_id:e._id}),x(\"cart\",\"delete\",Object(s.a)({},e))}(t)},children:\"\\ud83d\\uddd1\\ufe0f\"})]})]})]})},te=n(59),ne=n(60),ce=n(46),ae=n.n(ce),re=new(function(){function e(){Object(te.a)(this,e)}return Object(ne.a)(e,[{key:\"getProfile\",value:function(){return ae()(this.getToken())}},{key:\"loggedIn\",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:\"isTokenExpired\",value:function(e){try{return ae()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:\"getToken\",value:function(){return localStorage.getItem(\"id_token\")}},{key:\"login\",value:function(e){localStorage.setItem(\"id_token\",e),window.location.assign(\"/\")}},{key:\"logout\",value:function(){localStorage.removeItem(\"id_token\"),window.location.assign(\"/\")}}]),e}()),ie=(n(80),n(61)),se=n(87),oe=Object(ie.a)(\"pk_test_TYooMQauvdEDq54NiTphI7jx\"),le=function(){var e=P(),t=Object(h.a)(e,2),n=t[0],a=t[1],r=Object(se.a)(H),i=Object(h.a)(r,2),s=i[0],o=i[1].data;function l(){a({type:S})}return Object(c.useEffect)((function(){function e(){return(e=Object(K.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(\"cart\",\"get\");case 2:t=e.sent,a({type:k,products:Object(g.a)(t)});case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}n.cart.length||function(){e.apply(this,arguments)}()}),[n.cart.length,a]),Object(c.useEffect)((function(){o&&oe.then((function(e){e.redirectToCheckout({sessionId:o.checkout.session})}))}),[o]),n.cartOpen?Object(E.jsxs)(\"div\",{className:\"cart\",children:[Object(E.jsx)(\"div\",{className:\"close\",onClick:l,children:\"[close]\"}),Object(E.jsx)(\"h2\",{children:\"Shopping Cart\"}),n.cart.length?Object(E.jsxs)(\"div\",{children:[n.cart.map((function(e){return Object(E.jsx)(ee,{item:e},e._id)})),Object(E.jsxs)(\"div\",{className:\"flex-row space-between\",children:[Object(E.jsxs)(\"strong\",{children:[\"Total: $\",function(){var e=0;return n.cart.forEach((function(t){e+=t.price*t.purchaseQuantity})),e.toFixed(2)}()]}),re.loggedIn()?Object(E.jsx)(\"button\",{onClick:function(){var e=[];n.cart.forEach((function(t){for(var n=0;n<t.purchaseQuantity;n++)e.push(t._id)})),s({variables:{products:e}})},children:\"Checkout\"}):Object(E.jsx)(\"span\",{children:\"(log in to check out)\"})]})]}):Object(E.jsxs)(\"h3\",{children:[Object(E.jsx)(\"span\",{role:\"img\",\"aria-label\":\"shocked\",children:\"\\ud83d\\ude31\"}),\"You haven't added anything to your cart yet!\"]})]}):Object(E.jsx)(\"div\",{className:\"cart-closed\",onClick:l,children:Object(E.jsx)(\"span\",{role:\"img\",\"aria-label\":\"trash\",children:\"\\ud83d\\uded2\"})})},de=function(){return Object(E.jsxs)(\"div\",{className:\"container\",children:[Object(E.jsx)(V,{}),Object(E.jsx)(z,{}),Object(E.jsx)(le,{})]})};var je=function(){var e=P(),t=Object(h.a)(e,2),n=t[0],a=t[1],r=Object(l.g)().id,i=Object(c.useState)({}),d=Object(h.a)(i,2),j=d[0],u=d[1],b=Object(p.b)(G),O=b.loading,m=b.data,f=n.products,g=n.cart;return Object(c.useEffect)((function(){f.length?u(f.find((function(e){return e._id===r}))):m?(a({type:v,products:m.products}),m.products.forEach((function(e){x(\"products\",\"put\",e)}))):O||x(\"products\",\"get\").then((function(e){a({type:v,products:e})}))}),[f,m,O,a,r]),Object(E.jsxs)(E.Fragment,{children:[j&&g?Object(E.jsxs)(\"div\",{className:\"container my-1\",children:[Object(E.jsx)(o.b,{to:\"/\",children:\"\\u2190 Back to Products\"}),Object(E.jsx)(\"h2\",{children:j.name}),Object(E.jsx)(\"p\",{children:j.description}),Object(E.jsxs)(\"p\",{children:[Object(E.jsx)(\"strong\",{children:\"Price:\"}),\"$\",j.price,\" \",Object(E.jsx)(\"button\",{onClick:function(){var e=g.find((function(e){return e._id===r}));e?(a({type:C,_id:r,purchaseQuantity:parseInt(e.purchaseQuantity)+1}),x(\"cart\",\"put\",Object(s.a)(Object(s.a)({},e),{},{purchaseQuantity:parseInt(e.purchaseQuantity)+1}))):(a({type:_,product:Object(s.a)(Object(s.a)({},j),{},{purchaseQuantity:1})}),x(\"cart\",\"put\",Object(s.a)(Object(s.a)({},j),{},{purchaseQuantity:1})))},children:\"Add to Cart\"}),Object(E.jsx)(\"button\",{disabled:!g.find((function(e){return e._id===j._id})),onClick:function(){a({type:N,_id:j._id}),x(\"cart\",\"delete\",Object(s.a)({},j))},children:\"Remove from Cart\"})]}),Object(E.jsx)(\"img\",{src:\"/images/\".concat(j.image),alt:j.name})]}):null,O?Object(E.jsx)(\"img\",{src:J,alt:\"loading\"}):null,Object(E.jsx)(le,{})]})};var ue,be,Oe,he=function(e){var t=e.children;return Object(E.jsx)(\"div\",{style:{height:560,clear:\"both\",paddingTop:120,textAlign:\"center\"},children:t})},pe=function(){return Object(E.jsx)(\"div\",{children:Object(E.jsxs)(he,{children:[Object(E.jsx)(\"h1\",{children:\"404 Page Not Found\"}),Object(E.jsx)(\"h1\",{children:Object(E.jsx)(\"span\",{role:\"img\",\"aria-label\":\"Face With Rolling Eyes Emoji\",children:\"\\ud83d\\ude44\"})})]})})},me=n(30),xe=n(88),fe=Object(B.a)(ue||(ue=Object(W.a)([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"]))),ge=Object(B.a)(be||(be=Object(W.a)([\"\\n  mutation addOrder($products: [ID]!) {\\n    addOrder(products: $products) {\\n      purchaseDate\\n      products {\\n        _id\\n        name\\n        description\\n        price\\n        quantity\\n        category {\\n          name\\n        }\\n      }\\n    }\\n  }\\n\"]))),ve=Object(B.a)(Oe||(Oe=Object(W.a)([\"\\n  mutation addUser(\\n    $firstName: String!\\n    $lastName: String!\\n    $email: String!\\n    $password: String!\\n  ) {\\n    addUser(\\n      firstName: $firstName\\n      lastName: $lastName\\n      email: $email\\n      password: $password\\n    ) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"])));var ye=function(e){var t=Object(c.useState)({email:\"\",password:\"\"}),n=Object(h.a)(t,2),a=n[0],r=n[1],i=Object(xe.a)(fe),l=Object(h.a)(i,2),d=l[0],j=l[1].error,u=function(){var e=Object(K.a)(Z.a.mark((function e(t){var n,c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d({variables:{email:a.email,password:a.password}});case 4:n=e.sent,c=n.data.login.token,re.login(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=e.target,n=t.name,c=t.value;r(Object(s.a)(Object(s.a)({},a),{},Object(me.a)({},n,c)))};return Object(E.jsxs)(\"div\",{className:\"container my-1\",children:[Object(E.jsx)(o.b,{to:\"/signup\",children:\"\\u2190 Go to Signup\"}),Object(E.jsx)(\"h2\",{children:\"Login\"}),Object(E.jsxs)(\"form\",{onSubmit:u,children:[Object(E.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(E.jsx)(\"label\",{htmlFor:\"email\",children:\"Email address:\"}),Object(E.jsx)(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:b})]}),Object(E.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(E.jsx)(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),Object(E.jsx)(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:b})]}),j?Object(E.jsx)(\"div\",{children:Object(E.jsx)(\"p\",{className:\"error-text\",children:\"The provided credentials are incorrect\"})}):null,Object(E.jsx)(\"div\",{className:\"flex-row flex-end\",children:Object(E.jsx)(\"button\",{type:\"submit\",children:\"Submit\"})})]})]})};var we=function(e){var t=Object(c.useState)({email:\"\",password:\"\"}),n=Object(h.a)(t,2),a=n[0],r=n[1],i=Object(xe.a)(ve),l=Object(h.a)(i,1)[0],d=function(){var e=Object(K.a)(Z.a.mark((function e(t){var n,c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,l({variables:{email:a.email,password:a.password,firstName:a.firstName,lastName:a.lastName}});case 3:n=e.sent,c=n.data.addUser.token,re.login(c);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t=e.target,n=t.name,c=t.value;r(Object(s.a)(Object(s.a)({},a),{},Object(me.a)({},n,c)))};return Object(E.jsxs)(\"div\",{className:\"container my-1\",children:[Object(E.jsx)(o.b,{to:\"/login\",children:\"\\u2190 Go to Login\"}),Object(E.jsx)(\"h2\",{children:\"Signup\"}),Object(E.jsxs)(\"form\",{onSubmit:d,children:[Object(E.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(E.jsx)(\"label\",{htmlFor:\"firstName\",children:\"First Name:\"}),Object(E.jsx)(\"input\",{placeholder:\"First\",name:\"firstName\",type:\"firstName\",id:\"firstName\",onChange:j})]}),Object(E.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(E.jsx)(\"label\",{htmlFor:\"lastName\",children:\"Last Name:\"}),Object(E.jsx)(\"input\",{placeholder:\"Last\",name:\"lastName\",type:\"lastName\",id:\"lastName\",onChange:j})]}),Object(E.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(E.jsx)(\"label\",{htmlFor:\"email\",children:\"Email:\"}),Object(E.jsx)(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:j})]}),Object(E.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(E.jsx)(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),Object(E.jsx)(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:j})]}),Object(E.jsx)(\"div\",{className:\"flex-row flex-end\",children:Object(E.jsx)(\"button\",{type:\"submit\",children:\"Submit\"})})]})]})};var _e=function(){return Object(E.jsxs)(\"header\",{className:\"flex-row px-1\",children:[Object(E.jsx)(\"h1\",{children:Object(E.jsxs)(o.b,{to:\"/\",children:[Object(E.jsx)(\"span\",{role:\"img\",\"aria-label\":\"shopping bag\",children:\"\\ud83d\\udecd\\ufe0f\"}),\"-Shop-Shop\"]})}),Object(E.jsx)(\"nav\",{children:re.loggedIn()?Object(E.jsxs)(\"ul\",{className:\"flex-row\",children:[Object(E.jsx)(\"li\",{className:\"mx-1\",children:Object(E.jsx)(o.b,{to:\"/orderHistory\",children:\"Order History\"})}),Object(E.jsx)(\"li\",{className:\"mx-1\",children:Object(E.jsx)(\"a\",{href:\"/\",onClick:function(){return re.logout()},children:\"Logout\"})})]}):Object(E.jsxs)(\"ul\",{className:\"flex-row\",children:[Object(E.jsx)(\"li\",{className:\"mx-1\",children:Object(E.jsx)(o.b,{to:\"/signup\",children:\"Signup\"})}),Object(E.jsx)(\"li\",{className:\"mx-1\",children:Object(E.jsx)(o.b,{to:\"/login\",children:\"Login\"})})]})})]})};var ke=function(){var e,t=Object(p.b)(M).data;return t&&(e=t.user),Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(\"div\",{className:\"container my-1\",children:[Object(E.jsx)(o.b,{to:\"/\",children:\"\\u2190 Back to Products\"}),e?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(\"h2\",{children:[\"Order History for \",e.firstName,\" \",e.lastName]}),e.orders.map((function(e){return Object(E.jsxs)(\"div\",{className:\"my-2\",children:[Object(E.jsx)(\"h3\",{children:new Date(parseInt(e.purchaseDate)).toLocaleDateString()}),Object(E.jsx)(\"div\",{className:\"flex-row\",children:e.products.map((function(e,t){var n=e._id,c=e.image,a=e.name,r=e.price;return Object(E.jsxs)(\"div\",{className:\"card px-1 py-1\",children:[Object(E.jsxs)(o.b,{to:\"/products/\".concat(n),children:[Object(E.jsx)(\"img\",{alt:a,src:\"/images/\".concat(c)}),Object(E.jsx)(\"p\",{children:a})]}),Object(E.jsx)(\"div\",{children:Object(E.jsxs)(\"span\",{children:[\"$\",r]})})]},t)}))})]},e._id)}))]}):null]})})};var Ne=function(){var e=Object(xe.a)(ge),t=Object(h.a)(e,1)[0];return Object(c.useEffect)((function(){function e(){return(e=Object(K.a)(Z.a.mark((function e(){var n,c,a,r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(\"cart\",\"get\");case 2:if(n=e.sent,!(c=n.map((function(e){return e._id}))).length){e.next=11;break}return e.next=7,t({variables:{products:c}});case 7:a=e.sent,r=a.data,r.addOrder.products.forEach((function(e){x(\"cart\",\"delete\",e)}));case 11:setTimeout((function(){window.location.assign(\"/\")}),3e3);case 12:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(E.jsx)(\"div\",{children:Object(E.jsxs)(he,{children:[Object(E.jsx)(\"h1\",{children:\"Success!\"}),Object(E.jsx)(\"h2\",{children:\"Thank you for your purchase!\"}),Object(E.jsx)(\"h2\",{children:\"You will now be redirected to the home page\"})]})})},Ce=Object(d.a)({uri:\"/graphql\"}),Se=Object(O.a)((function(e,t){var n=t.headers,c=localStorage.getItem(\"id_token\");return{headers:Object(s.a)(Object(s.a)({},n),{},{authorization:c?\"Bearer \".concat(c):\"\"})}})),Te=new j.a({link:Se.concat(Ce),cache:new u.a});var Ee=function(){return Object(E.jsx)(b.a,{client:Te,children:Object(E.jsx)(o.a,{children:Object(E.jsx)(\"div\",{children:Object(E.jsxs)(D,{children:[Object(E.jsx)(_e,{}),Object(E.jsxs)(l.c,{children:[Object(E.jsx)(l.a,{path:\"/\",element:Object(E.jsx)(de,{})}),Object(E.jsx)(l.a,{path:\"/login\",element:Object(E.jsx)(ye,{})}),Object(E.jsx)(l.a,{path:\"/signup\",element:Object(E.jsx)(we,{})}),Object(E.jsx)(l.a,{path:\"/orderHistory\",element:Object(E.jsx)(ke,{})}),Object(E.jsx)(l.a,{path:\"/products/:id\",element:Object(E.jsx)(je,{})}),Object(E.jsx)(l.a,{path:\"*\",element:Object(E.jsx)(pe,{})}),Object(E.jsx)(l.a,{path:\"/success\",element:Object(E.jsx)(Ne,{})})]})]})})})})},Ae=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $e(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){\"installed\"===n.state&&(navigator.serviceWorker.controller?(console.log(\"New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA.\"),t&&t.onUpdate&&t.onUpdate(e)):(console.log(\"Content is cached for offline use.\"),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error(\"Error during service worker registration:\",e)}))}i.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(Ee,{})}),document.getElementById(\"root\")),function(e){if(\"serviceWorker\"in navigator){if(new URL(\"\",window.location.href).origin!==window.location.origin)return;window.addEventListener(\"load\",(function(){var t=\"\".concat(\"\",\"/service-worker.js\");Ae?(!function(e,t){fetch(e,{headers:{\"Service-Worker\":\"script\"}}).then((function(n){var c=n.headers.get(\"content-type\");404===n.status||null!=c&&-1===c.indexOf(\"javascript\")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$e(e,t)})).catch((function(){console.log(\"No internet connection found. App is running in offline mode.\")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA\")}))):$e(t,e)}))}}()}},[[81,1,2]]]);","name":"static/js/main.cc0dee59.chunk.js","map":{"version":3,"sources":["static/js/main.cc0dee59.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","react_router_dom","react_router","createHttpLink","ApolloClient","inMemoryCache","ApolloProvider","context","slicedToArray","useQuery","pluralize","name","count","idbPromise","storeName","method","object","Promise","resolve","reject","db","tx","store","request","window","indexedDB","open","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","_id","oncomplete","close","objectWithoutProperties","toConsumableArray","UPDATE_PRODUCTS","UPDATE_CATEGORIES","UPDATE_CURRENT_CATEGORY","ADD_TO_CART","ADD_MULTIPLE_TO_CART","REMOVE_FROM_CART","UPDATE_CART_QUANTITY","TOGGLE_CART","reducers_reducer","state","action","type","Object","products","categories","currentCategory","cartOpen","cart","concat","product","newState","filter","length","map","purchaseQuantity","jsx_runtime","_excluded","StoreContext","Provider","GlobalState_StoreProvider","_ref","value","initialState","props","_useProductReducer","_useProductReducer2","dispatch","GlobalState_useStoreContext","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","components_ProductItem","item","image","price","quantity","_useStoreContext","_useStoreContext2","className","children","to","alt","src","onClick","itemInCart","find","cartItem","parseInt","taggedTemplateLiteral","lib","QUERY_PRODUCTS","QUERY_CATEGORIES","QUERY_USER","QUERY_CHECKOUT","spinner","p","components_ProductList","_useQuery","loading","data","forEach","then","category","components_CategoryMenu","categoryData","id","asyncToGenerator","regenerator","regenerator_default","components_CartItem","placeholder","onChange","target","role","removeFromCart","classCallCheck","createClass","jwt_decode_lib","lib_default","auth","AuthService","key","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","location","assign","removeItem","stripe_esm","useLazyQuery","stripePromise","components_Cart","_useLazyQuery","_useLazyQuery2","getCheckout","toggleCart","_getCart","a","mark","_callee","wrap","_context","prev","next","sent","stop","apply","arguments","getCart","res","redirectToCheckout","sessionId","checkout","session","sum","toFixed","calculateTotal","loggedIn","productIds","i","variables","pages_Home","pages_Detail","_useState","_useState2","currentProduct","setCurrentProduct","indexedProducts","description","disabled","mutations_templateObject","mutations_templateObject2","mutations_templateObject3","components_Jumbotron","style","height","clear","paddingTop","textAlign","pages_NoMatch","defineProperty","useMutation","LOGIN","ADD_ORDER","ADD_USER","pages_Login","email","password","formState","setFormState","_useMutation","_useMutation2","login","error","handleFormSubmit","event","mutationResponse","preventDefault","t0","_x","handleChange","_event$target","onSubmit","htmlFor","pages_Signup","addUser","firstName","lastName","components_Nav","href","logout","pages_OrderHistory","user","orders","order","purchaseDate","toLocaleDateString","index","pages_Success","addOrder","_saveOrder","_yield$addOrder","setTimeout","saveOrder","httpLink","uri","authLink","_","headers","authorization","client","link","cache","src_App","path","element","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","render","StrictMode","document","getElementById","URL","origin","addEventListener","fetch","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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"},"input":"(this[\"webpackJsonpmern-client\"] = this[\"webpackJsonpmern-client\"] || []).push([[0],{\n\n/***/ 73:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 80:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 81:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(3);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(56);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(73);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/index.js + 1 modules\nvar react_router_dom = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/react-router/index.js\nvar react_router = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/link/http/createHttpLink.js + 10 modules\nvar createHttpLink = __webpack_require__(64);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/core/ApolloClient.js + 12 modules\nvar ApolloClient = __webpack_require__(91);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/cache/inmemory/inMemoryCache.js + 8 modules\nvar inMemoryCache = __webpack_require__(93);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/context/ApolloProvider.js\nvar ApolloProvider = __webpack_require__(90);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/link/context/index.js\nvar context = __webpack_require__(62);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useQuery.js\nvar useQuery = __webpack_require__(57);\n\n// CONCATENATED MODULE: ./src/utils/helpers.js\nfunction pluralize(name,count){if(count===1){return name;}return name+'s';}function idbPromise(storeName,method,object){return new Promise(function(resolve,reject){// open connection to the database `shop-shop` with the version of 1\nvar request=window.indexedDB.open('shop-shop',1);// create variables to hold reference to the database, transaction (tx), and object store\nvar db,tx,store;// if version has changed (or if this is the first time using the database), run this method and create the three object stores \nrequest.onupgradeneeded=function(e){var db=request.result;// create object store for each type of data and set \"primary\" key index to be the `_id` of the data\ndb.createObjectStore('products',{keyPath:'_id'});db.createObjectStore('categories',{keyPath:'_id'});db.createObjectStore('cart',{keyPath:'_id'});};// handle any errors with connecting\nrequest.onerror=function(e){console.log('There was an error');};// on database open success\nrequest.onsuccess=function(e){// save a reference of the database to the `db` variable\ndb=request.result;// open a transaction do whatever we pass into `storeName` (must match one of the object store names)\ntx=db.transaction(storeName,'readwrite');// save a reference to that object store\nstore=tx.objectStore(storeName);// if there's any errors, let us know\ndb.onerror=function(e){console.log('error',e);};switch(method){case'put':store.put(object);resolve(object);break;case'get':var all=store.getAll();all.onsuccess=function(){resolve(all.result);};break;case'delete':store.delete(object._id);break;default:console.log('No valid method');break;}// when the transaction is complete, close the connection\ntx.oncomplete=function(){db.close();};};});}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(65);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(25);\n\n// CONCATENATED MODULE: ./src/utils/actions.js\nvar UPDATE_PRODUCTS=\"UPDATE_PRODUCTS\";var UPDATE_CATEGORIES=\"UPDATE_CATEGORIES\";var UPDATE_CURRENT_CATEGORY=\"UPDATE_CURRENT_CATEGORY\";var ADD_TO_CART='ADD_TO_CART';var ADD_MULTIPLE_TO_CART='ADD_MULTIPLE_TO_CART';var REMOVE_FROM_CART='REMOVE_FROM_CART';var UPDATE_CART_QUANTITY='UPDATE_CART_QUANTITY';var CLEAR_CART='CLEAR_CART';var TOGGLE_CART='TOGGLE_CART';\n// CONCATENATED MODULE: ./src/utils/reducers.js\nvar reducers_reducer=function reducer(state,action){switch(action.type){case UPDATE_PRODUCTS:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{products:Object(toConsumableArray[\"a\" /* default */])(action.products)});case UPDATE_CATEGORIES:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{categories:Object(toConsumableArray[\"a\" /* default */])(action.categories)});case UPDATE_CURRENT_CATEGORY:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{currentCategory:action.currentCategory});case ADD_TO_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:true,cart:[].concat(Object(toConsumableArray[\"a\" /* default */])(state.cart),[action.product])});case ADD_MULTIPLE_TO_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cart:[].concat(Object(toConsumableArray[\"a\" /* default */])(state.cart),Object(toConsumableArray[\"a\" /* default */])(action.products))});case REMOVE_FROM_CART:var newState=state.cart.filter(function(product){return product._id!==action._id;});return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:newState.length>0,cart:newState});case UPDATE_CART_QUANTITY:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:true,cart:state.cart.map(function(product){if(action._id===product._id){product.purchaseQuantity=action.purchaseQuantity;}return product;})});case CLEAR_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:false,cart:[]});case TOGGLE_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:!state.cartOpen});default:return state;}};function useProductReducer(initialState){return Object(react[\"useReducer\"])(reducers_reducer,initialState);}\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/utils/GlobalState.js\nvar _excluded=[\"value\"];var StoreContext=/*#__PURE__*/Object(react[\"createContext\"])();var Provider=StoreContext.Provider;var GlobalState_StoreProvider=function StoreProvider(_ref){var _ref$value=_ref.value,value=_ref$value===void 0?[]:_ref$value,props=Object(objectWithoutProperties[\"a\" /* default */])(_ref,_excluded);var _useProductReducer=useProductReducer({products:[],cart:[],cartOpen:false,categories:[],currentCategory:''}),_useProductReducer2=Object(slicedToArray[\"a\" /* default */])(_useProductReducer,2),state=_useProductReducer2[0],dispatch=_useProductReducer2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Provider,Object(objectSpread2[\"a\" /* default */])({value:[state,dispatch]},props));};var GlobalState_useStoreContext=function useStoreContext(){return Object(react[\"useContext\"])(StoreContext);};\n// CONCATENATED MODULE: ./src/components/ProductItem/index.js\nfunction ProductItem(item){var image=item.image,name=item.name,_id=item._id,price=item.price,quantity=item.quantity;var _useStoreContext=GlobalState_useStoreContext(),_useStoreContext2=Object(slicedToArray[\"a\" /* default */])(_useStoreContext,2),state=_useStoreContext2[0],dispatch=_useStoreContext2[1];var cart=state.cart;var addToCart=function addToCart(){var itemInCart=cart.find(function(cartItem){return cartItem._id===_id;});if(itemInCart){dispatch({type:UPDATE_CART_QUANTITY,_id:_id,purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},itemInCart),{},{purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1}));}else{dispatch({type:ADD_TO_CART,product:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},item),{},{purchaseQuantity:1})});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},item),{},{purchaseQuantity:1}));}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card px-1 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/products/\".concat(_id),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:name,src:\"/images/\".concat(image)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:name})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[quantity,\" \",pluralize(\"item\",quantity),\" in stock\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"$\",price]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:addToCart,children:\"Add to cart\"})]});}/* harmony default export */ var components_ProductItem = (ProductItem);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/graphql-tag/lib/index.js + 11 modules\nvar lib = __webpack_require__(92);\n\n// CONCATENATED MODULE: ./src/utils/queries.js\nvar _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;var QUERY_PRODUCTS=Object(lib[\"a\" /* gql */])(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query getProducts($category: ID) {\\n    products(category: $category) {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      image\\n      category {\\n        _id\\n      }\\n    }\\n  }\\n\"])));var QUERY_ALL_PRODUCTS=Object(lib[\"a\" /* gql */])(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  {\\n    products {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      }\\n    }\\n  }\\n\"])));var QUERY_CATEGORIES=Object(lib[\"a\" /* gql */])(_templateObject3||(_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  {\\n    categories {\\n      _id\\n      name\\n    }\\n  }\\n\"])));var QUERY_USER=Object(lib[\"a\" /* gql */])(_templateObject4||(_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  {\\n    user {\\n      firstName\\n      lastName\\n      orders {\\n        _id\\n        purchaseDate\\n        products {\\n          _id\\n          name\\n          description\\n          price\\n          quantity\\n          image\\n        }\\n      }\\n    }\\n  }\\n\"])));var QUERY_CHECKOUT=Object(lib[\"a\" /* gql */])(_templateObject5||(_templateObject5=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query getCheckout($products: [ID]!) {\\n    checkout(products: $products) {\\n      session\\n    }\\n  }\\n\"])));\n// CONCATENATED MODULE: ./src/assets/spinner.gif\n/* harmony default export */ var spinner = (__webpack_require__.p + \"static/media/spinner.689d9a07.gif\");\n// CONCATENATED MODULE: ./src/components/ProductList/index.js\nfunction ProductList(){var _useStoreContext=GlobalState_useStoreContext(),_useStoreContext2=Object(slicedToArray[\"a\" /* default */])(_useStoreContext,2),state=_useStoreContext2[0],dispatch=_useStoreContext2[1];var currentCategory=state.currentCategory;var _useQuery=Object(useQuery[\"b\" /* useQuery */])(QUERY_PRODUCTS),loading=_useQuery.loading,data=_useQuery.data;Object(react[\"useEffect\"])(function(){if(data){dispatch({type:UPDATE_PRODUCTS,products:data.products});data.products.forEach(function(product){idbPromise('products','put',product);});// add else if to check if `loading` is undefined in `useQuery()` Hook\n}else if(!loading){// since we're offline, get all of the data from the `products` store\nidbPromise('products','get').then(function(products){// use retrieved data to set global state for offline browsing\ndispatch({type:UPDATE_PRODUCTS,products:products});});}},[data,loading,dispatch]);function filterProducts(){if(!currentCategory){return state.products;}return state.products.filter(function(product){return product.category._id===currentCategory;});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Our Products:\"}),state.products.length?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row\",children:filterProducts().map(function(product){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ProductItem,{_id:product._id,image:product.image,name:product.name,price:product.price,quantity:product.quantity},product._id);})}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"You haven't added any products yet!\"}),loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:spinner,alt:\"loading\"}):null]});}/* harmony default export */ var components_ProductList = (ProductList);\n// CONCATENATED MODULE: ./src/components/CategoryMenu/index.js\nfunction CategoryMenu(){var _useStoreContext=GlobalState_useStoreContext(),_useStoreContext2=Object(slicedToArray[\"a\" /* default */])(_useStoreContext,2),state=_useStoreContext2[0],dispatch=_useStoreContext2[1];var categories=state.categories;var _useQuery=Object(useQuery[\"b\" /* useQuery */])(QUERY_CATEGORIES),loading=_useQuery.loading,categoryData=_useQuery.data;Object(react[\"useEffect\"])(function(){if(categoryData){dispatch({type:UPDATE_CATEGORIES,categories:categoryData.categories});categoryData.categories.forEach(function(category){idbPromise('categories','put',category);});}else if(!loading){idbPromise('categories','get').then(function(categories){dispatch({type:UPDATE_CATEGORIES,categories:categories});});}},[categoryData,loading,dispatch]);var handleClick=function handleClick(id){dispatch({type:UPDATE_CURRENT_CATEGORY,currentCategory:id});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Choose a Category:\"}),categories.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){handleClick(item._id);},children:item.name},item._id);})]});}/* harmony default export */ var components_CategoryMenu = (CategoryMenu);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(16);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// CONCATENATED MODULE: ./src/components/CartItem/index.js\nvar CartItem_CartItem=function CartItem(_ref){var item=_ref.item;var _useStoreContext=GlobalState_useStoreContext(),_useStoreContext2=Object(slicedToArray[\"a\" /* default */])(_useStoreContext,2),dispatch=_useStoreContext2[1];var removeFromCart=function removeFromCart(item){dispatch({type:REMOVE_FROM_CART,_id:item._id});idbPromise('cart','delete',Object(objectSpread2[\"a\" /* default */])({},item));};var onChange=function onChange(e){var value=e.target.value;if(value==='0'){dispatch({type:REMOVE_FROM_CART,_id:item._id});idbPromise('cart','delete',Object(objectSpread2[\"a\" /* default */])({},item));}else{dispatch({type:UPDATE_CART_QUANTITY,_id:item._id,purchaseQuantity:parseInt(value)});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},item),{},{purchaseQuantity:parseInt(value)}));}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"/images/\".concat(item.image),alt:\"\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[item.name,\", $\",item.price]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Qty:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",placeholder:\"1\",value:item.purchaseQuantity,onChange:onChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"trash\",onClick:function onClick(){return removeFromCart(item);},children:\"\\uD83D\\uDDD1\\uFE0F\"})]})]})]});};/* harmony default export */ var components_CartItem = (CartItem_CartItem);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(59);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(60);\n\n// EXTERNAL MODULE: ./node_modules/jwt-decode/lib/index.js\nvar jwt_decode_lib = __webpack_require__(46);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(jwt_decode_lib);\n\n// CONCATENATED MODULE: ./src/utils/auth.js\nvar auth_AuthService=/*#__PURE__*/function(){function AuthService(){Object(classCallCheck[\"a\" /* default */])(this,AuthService);}Object(createClass[\"a\" /* default */])(AuthService,[{key:\"getProfile\",value:function getProfile(){return lib_default()(this.getToken());}},{key:\"loggedIn\",value:function loggedIn(){// Checks if there is a saved token and it's still valid\nvar token=this.getToken();return!!token&&!this.isTokenExpired(token);}},{key:\"isTokenExpired\",value:function isTokenExpired(token){try{var decoded=lib_default()(token);if(decoded.exp<Date.now()/1000){return true;}else return false;}catch(err){return false;}}},{key:\"getToken\",value:function getToken(){// Retrieves the user token from localStorage\nreturn localStorage.getItem('id_token');}},{key:\"login\",value:function login(idToken){// Saves user token to localStorage\nlocalStorage.setItem('id_token',idToken);window.location.assign('/');}},{key:\"logout\",value:function logout(){// Clear user token and profile data from localStorage\nlocalStorage.removeItem('id_token');// this will reload the page and reset the state of the application\nwindow.location.assign('/');}}]);return AuthService;}();/* harmony default export */ var auth = (new auth_AuthService());\n// EXTERNAL MODULE: ./src/components/Cart/style.css\nvar style = __webpack_require__(80);\n\n// EXTERNAL MODULE: ./node_modules/@stripe/stripe-js/dist/stripe.esm.js\nvar stripe_esm = __webpack_require__(61);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useLazyQuery.js\nvar useLazyQuery = __webpack_require__(87);\n\n// CONCATENATED MODULE: ./src/components/Cart/index.js\nvar stripePromise=Object(stripe_esm[\"a\" /* loadStripe */])('pk_test_TYooMQauvdEDq54NiTphI7jx');var Cart_Cart=function Cart(){var _useStoreContext=GlobalState_useStoreContext(),_useStoreContext2=Object(slicedToArray[\"a\" /* default */])(_useStoreContext,2),state=_useStoreContext2[0],dispatch=_useStoreContext2[1];var _useLazyQuery=Object(useLazyQuery[\"a\" /* useLazyQuery */])(QUERY_CHECKOUT),_useLazyQuery2=Object(slicedToArray[\"a\" /* default */])(_useLazyQuery,2),getCheckout=_useLazyQuery2[0],data=_useLazyQuery2[1].data;Object(react[\"useEffect\"])(function(){function getCart(){return _getCart.apply(this,arguments);}function _getCart(){_getCart=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var cart;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return idbPromise('cart','get');case 2:cart=_context.sent;dispatch({type:ADD_MULTIPLE_TO_CART,products:Object(toConsumableArray[\"a\" /* default */])(cart)});case 4:case\"end\":return _context.stop();}}},_callee);}));return _getCart.apply(this,arguments);};if(!state.cart.length){getCart();}},[state.cart.length,dispatch]);Object(react[\"useEffect\"])(function(){if(data){stripePromise.then(function(res){res.redirectToCheckout({sessionId:data.checkout.session});});}},[data]);function toggleCart(){dispatch({type:TOGGLE_CART});}function calculateTotal(){var sum=0;state.cart.forEach(function(item){sum+=item.price*item.purchaseQuantity;});return sum.toFixed(2);}function submitCheckout(){var productIds=[];state.cart.forEach(function(item){for(var i=0;i<item.purchaseQuantity;i++){productIds.push(item._id);}});getCheckout({variables:{products:productIds}});}if(!state.cartOpen){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"cart-closed\",onClick:toggleCart,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"trash\",children:\"\\uD83D\\uDED2\"})});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"cart\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"close\",onClick:toggleCart,children:\"[close]\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Shopping Cart\"}),state.cart.length?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[state.cart.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_CartItem,{item:item},item._id);}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"strong\",{children:[\"Total: $\",calculateTotal()]}),auth.loggedIn()?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:submitCheckout,children:\"Checkout\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"(log in to check out)\"})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"shocked\",children:\"\\uD83D\\uDE31\"}),\"You haven't added anything to your cart yet!\"]})]});};/* harmony default export */ var components_Cart = (Cart_Cart);\n// CONCATENATED MODULE: ./src/pages/Home.js\nvar Home_Home=function Home(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_CategoryMenu,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ProductList,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Cart,{})]});};/* harmony default export */ var pages_Home = (Home_Home);\n// CONCATENATED MODULE: ./src/pages/Detail.js\nfunction Detail(){var _useStoreContext=GlobalState_useStoreContext(),_useStoreContext2=Object(slicedToArray[\"a\" /* default */])(_useStoreContext,2),state=_useStoreContext2[0],dispatch=_useStoreContext2[1];var _useParams=Object(react_router[\"g\" /* useParams */])(),id=_useParams.id;var _useState=Object(react[\"useState\"])({}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentProduct=_useState2[0],setCurrentProduct=_useState2[1];var _useQuery=Object(useQuery[\"b\" /* useQuery */])(QUERY_PRODUCTS),loading=_useQuery.loading,data=_useQuery.data;var products=state.products,cart=state.cart;Object(react[\"useEffect\"])(function(){// already in global store\nif(products.length){setCurrentProduct(products.find(function(product){return product._id===id;}));}// retrieved from server\nelse if(data){dispatch({type:UPDATE_PRODUCTS,products:data.products});data.products.forEach(function(product){idbPromise('products','put',product);});}// get cache from idb\nelse if(!loading){idbPromise('products','get').then(function(indexedProducts){dispatch({type:UPDATE_PRODUCTS,products:indexedProducts});});}},[products,data,loading,dispatch,id]);var addToCart=function addToCart(){var itemInCart=cart.find(function(cartItem){return cartItem._id===id;});if(itemInCart){dispatch({type:UPDATE_CART_QUANTITY,_id:id,purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1});// if we're updating quantity, use existing item data and increment purchaseQuantity value by one\nidbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},itemInCart),{},{purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1}));}else{dispatch({type:ADD_TO_CART,product:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},currentProduct),{},{purchaseQuantity:1})});// if product isn't in the cart yet, add it to the current shopping cart in IndexedDB\nidbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},currentProduct),{},{purchaseQuantity:1}));}};var removeFromCart=function removeFromCart(){dispatch({type:REMOVE_FROM_CART,_id:currentProduct._id});// upon removal from cart, delete the item from IndexedDB using the `currentProduct._id` to locate what to remove\nidbPromise('cart','delete',Object(objectSpread2[\"a\" /* default */])({},currentProduct));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[currentProduct&&cart?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container my-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",children:\"\\u2190 Back to Products\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:currentProduct.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:currentProduct.description}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:\"Price:\"}),\"$\",currentProduct.price,' ',/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:addToCart,children:\"Add to Cart\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{disabled:!cart.find(function(p){return p._id===currentProduct._id;}),onClick:removeFromCart,children:\"Remove from Cart\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"/images/\".concat(currentProduct.image),alt:currentProduct.name})]}):null,loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:spinner,alt:\"loading\"}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Cart,{})]});}/* harmony default export */ var pages_Detail = (Detail);\n// CONCATENATED MODULE: ./src/components/Jumbotron/index.js\nfunction Jumbotron(_ref){var children=_ref.children;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{height:560,clear:\"both\",paddingTop:120,textAlign:\"center\"},children:children});}/* harmony default export */ var components_Jumbotron = (Jumbotron);\n// CONCATENATED MODULE: ./src/pages/NoMatch.js\nvar NoMatch_NoMatch=function NoMatch(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_Jumbotron,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"404 Page Not Found\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"Face With Rolling Eyes Emoji\",children:\"\\uD83D\\uDE44\"})})]})});};/* harmony default export */ var pages_NoMatch = (NoMatch_NoMatch);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(30);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useMutation.js\nvar useMutation = __webpack_require__(88);\n\n// CONCATENATED MODULE: ./src/utils/mutations.js\nvar mutations_templateObject,mutations_templateObject2,mutations_templateObject3;var LOGIN=Object(lib[\"a\" /* gql */])(mutations_templateObject||(mutations_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"])));var ADD_ORDER=Object(lib[\"a\" /* gql */])(mutations_templateObject2||(mutations_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation addOrder($products: [ID]!) {\\n    addOrder(products: $products) {\\n      purchaseDate\\n      products {\\n        _id\\n        name\\n        description\\n        price\\n        quantity\\n        category {\\n          name\\n        }\\n      }\\n    }\\n  }\\n\"])));var ADD_USER=Object(lib[\"a\" /* gql */])(mutations_templateObject3||(mutations_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation addUser(\\n    $firstName: String!\\n    $lastName: String!\\n    $email: String!\\n    $password: String!\\n  ) {\\n    addUser(\\n      firstName: $firstName\\n      lastName: $lastName\\n      email: $email\\n      password: $password\\n    ) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"])));\n// CONCATENATED MODULE: ./src/pages/Login.js\nfunction Login(props){var _useState=Object(react[\"useState\"])({email:'',password:''}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(LOGIN),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),login=_useMutation2[0],error=_useMutation2[1].error;var handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var mutationResponse,token;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return login({variables:{email:formState.email,password:formState.password}});case 4:mutationResponse=_context.sent;token=mutationResponse.data.login.token;auth.login(token);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container my-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/signup\",children:\"\\u2190 Go to Signup\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"email\",children:\"Email address:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:handleChange})]}),error?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"error-text\",children:\"The provided credentials are incorrect\"})}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row flex-end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Submit\"})})]})]});}/* harmony default export */ var pages_Login = (Login);\n// CONCATENATED MODULE: ./src/pages/Signup.js\nfunction Signup(props){var _useState=Object(react[\"useState\"])({email:'',password:''}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(ADD_USER),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),addUser=_useMutation2[0];var handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var mutationResponse,token;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return addUser({variables:{email:formState.email,password:formState.password,firstName:formState.firstName,lastName:formState.lastName}});case 3:mutationResponse=_context.sent;token=mutationResponse.data.addUser.token;auth.login(token);case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container my-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/login\",children:\"\\u2190 Go to Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Signup\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"firstName\",children:\"First Name:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"First\",name:\"firstName\",type:\"firstName\",id:\"firstName\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"lastName\",children:\"Last Name:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Last\",name:\"lastName\",type:\"lastName\",id:\"lastName\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row flex-end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Submit\"})})]})]});}/* harmony default export */ var pages_Signup = (Signup);\n// CONCATENATED MODULE: ./src/components/Nav/index.js\nfunction Nav(){function showNavigation(){if(auth.loggedIn()){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{className:\"flex-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/orderHistory\",children:\"Order History\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/\",onClick:function onClick(){return auth.logout();},children:\"Logout\"})})]});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{className:\"flex-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/signup\",children:\"Signup\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/login\",children:\"Login\"})})]});}}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:\"flex-row px-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"shopping bag\",children:\"\\uD83D\\uDECD\\uFE0F\"}),\"-Shop-Shop\"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"nav\",{children:showNavigation()})]});}/* harmony default export */ var components_Nav = (Nav);\n// CONCATENATED MODULE: ./src/pages/OrderHistory.js\nfunction OrderHistory(){var _useQuery=Object(useQuery[\"b\" /* useQuery */])(QUERY_USER),data=_useQuery.data;var user;if(data){user=data.user;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container my-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",children:\"\\u2190 Back to Products\"}),user?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[\"Order History for \",user.firstName,\" \",user.lastName]}),user.orders.map(function(order){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:new Date(parseInt(order.purchaseDate)).toLocaleDateString()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row\",children:order.products.map(function(_ref,index){var _id=_ref._id,image=_ref.image,name=_ref.name,price=_ref.price;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card px-1 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/products/\".concat(_id),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:name,src:\"/images/\".concat(image)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:name})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"$\",price]})})]},index);})})]},order._id);})]}):null]})});}/* harmony default export */ var pages_OrderHistory = (OrderHistory);\n// CONCATENATED MODULE: ./src/pages/Success.js\nfunction Success(){var _useMutation=Object(useMutation[\"a\" /* useMutation */])(ADD_ORDER),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),addOrder=_useMutation2[0];Object(react[\"useEffect\"])(function(){function saveOrder(){return _saveOrder.apply(this,arguments);}function _saveOrder(){_saveOrder=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var cart,products,_yield$addOrder,data,productData;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return idbPromise('cart','get');case 2:cart=_context.sent;products=cart.map(function(item){return item._id;});if(!products.length){_context.next=11;break;}_context.next=7;return addOrder({variables:{products:products}});case 7:_yield$addOrder=_context.sent;data=_yield$addOrder.data;productData=data.addOrder.products;productData.forEach(function(item){idbPromise('cart','delete',item);});case 11:setTimeout(function(){window.location.assign('/');},3000);case 12:case\"end\":return _context.stop();}}},_callee);}));return _saveOrder.apply(this,arguments);}saveOrder();},[addOrder]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_Jumbotron,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Success!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Thank you for your purchase!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"You will now be redirected to the home page\"})]})});}/* harmony default export */ var pages_Success = (Success);\n// CONCATENATED MODULE: ./src/App.js\nvar httpLink=Object(createHttpLink[\"a\" /* createHttpLink */])({uri:'/graphql'});var authLink=Object(context[\"a\" /* setContext */])(function(_,_ref){var headers=_ref.headers;var token=localStorage.getItem('id_token');return{headers:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},headers),{},{authorization:token?\"Bearer \".concat(token):''})};});var client=new ApolloClient[\"a\" /* ApolloClient */]({link:authLink.concat(httpLink),cache:new inMemoryCache[\"a\" /* InMemoryCache */]()});function App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ApolloProvider[\"a\" /* ApolloProvider */],{client:client,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(GlobalState_StoreProvider,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Nav,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Home,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/login\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Login,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/signup\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Signup,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/orderHistory\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_OrderHistory,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/products/:id\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Detail,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"*\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_NoMatch,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/success\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Success,{})})]})]})})})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/serviceWorker.js\n// This optional code is used to register a service worker.\n// register() is not called by default.\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nvar isLocalhost=Boolean(window.location.hostname==='localhost'||// [::1] is the IPv6 localhost address.\nwindow.location.hostname==='[::1]'||// 127.0.0.0/8 are considered localhost for IPv4.\nwindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function register(config){if( true&&'serviceWorker'in navigator){// The URL constructor is available in all browsers that support SW.\nvar publicUrl=new URL(\"\",window.location.href);if(publicUrl.origin!==window.location.origin){// Our service worker won't work if PUBLIC_URL is on a different origin\n// from what our page is served on. This might happen if a CDN is used to\n// serve assets; see https://github.com/facebook/create-react-app/issues/2374\nreturn;}window.addEventListener('load',function(){var swUrl=\"\".concat(\"\",\"/service-worker.js\");if(isLocalhost){// This is running on localhost. Let's check if a service worker still exists or not.\ncheckValidServiceWorker(swUrl,config);// Add some additional logging to localhost, pointing developers to the\n// service worker/PWA documentation.\nnavigator.serviceWorker.ready.then(function(){console.log('This web app is being served cache-first by a service '+'worker. To learn more, visit https://bit.ly/CRA-PWA');});}else{// Is not localhost. Just register service worker\nregisterValidSW(swUrl,config);}});}}function registerValidSW(swUrl,config){navigator.serviceWorker.register(swUrl).then(function(registration){registration.onupdatefound=function(){var installingWorker=registration.installing;if(installingWorker==null){return;}installingWorker.onstatechange=function(){if(installingWorker.state==='installed'){if(navigator.serviceWorker.controller){// At this point, the updated precached content has been fetched,\n// but the previous service worker will still serve the older\n// content until all client tabs are closed.\nconsole.log('New content is available and will be used when all '+'tabs for this page are closed. See https://bit.ly/CRA-PWA.');// Execute callback\nif(config&&config.onUpdate){config.onUpdate(registration);}}else{// At this point, everything has been precached.\n// It's the perfect time to display a\n// \"Content is cached for offline use.\" message.\nconsole.log('Content is cached for offline use.');// Execute callback\nif(config&&config.onSuccess){config.onSuccess(registration);}}}};};}).catch(function(error){console.error('Error during service worker registration:',error);});}function checkValidServiceWorker(swUrl,config){// Check if the service worker can be found. If it can't reload the page.\nfetch(swUrl,{headers:{'Service-Worker':'script'}}).then(function(response){// Ensure service worker exists, and that we really are getting a JS file.\nvar contentType=response.headers.get('content-type');if(response.status===404||contentType!=null&&contentType.indexOf('javascript')===-1){// No service worker found. Probably a different app. Reload the page.\nnavigator.serviceWorker.ready.then(function(registration){registration.unregister().then(function(){window.location.reload();});});}else{// Service worker found. Proceed as normal.\nregisterValidSW(swUrl,config);}}).catch(function(){console.log('No internet connection found. App is running in offline mode.');});}function unregister(){if('serviceWorker'in navigator){navigator.serviceWorker.ready.then(function(registration){registration.unregister();}).catch(function(error){console.error(error.message);});}}\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nregister();\n\n/***/ })\n\n},[[81,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\casey\\OneDrive\\Desktop\\Codes\\shop-shop\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\casey\\OneDrive\\Desktop\\Codes\\shop-shop\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\casey\\OneDrive\\Desktop\\Codes\\shop-shop\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\casey\\OneDrive\\Desktop\\Codes\\shop-shop\\client\\src\\index.css","C:\\Users\\casey\\OneDrive\\Desktop\\Codes\\shop-shop\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\casey\\OneDrive\\Desktop\\Codes\\shop-shop\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\casey\\OneDrive\\Desktop\\Codes\\shop-shop\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\casey\\OneDrive\\Desktop\\Codes\\shop-shop\\client\\src\\components\\Cart\\style.css","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/utils/helpers.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/utils/actions.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/utils/reducers.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/utils/GlobalState.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/components/ProductItem/index.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/utils/queries.js","C:\\Users\\casey\\OneDrive\\Desktop\\Codes\\shop-shop\\client\\node_modules\\url-loader\\dist\\cjs.js??ref--5-oneOf-1!C:\\Users\\casey\\OneDrive\\Desktop\\Codes\\shop-shop\\client\\src\\assets\\spinner.gif","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/components/ProductList/index.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/components/CategoryMenu/index.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/components/CartItem/index.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/utils/auth.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/components/Cart/index.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/pages/Home.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/pages/Detail.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/components/Jumbotron/index.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/pages/NoMatch.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/utils/mutations.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/pages/Login.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/pages/Signup.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/components/Nav/index.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/pages/OrderHistory.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/pages/Success.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/App.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/serviceWorker.js","C:/Users/casey/OneDrive/Desktop/Codes/shop-shop/client/src/index.js"],"names":["pluralize","name","count","idbPromise","storeName","method","object","Promise","resolve","reject","request","window","indexedDB","open","db","tx","store","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","_id","oncomplete","close","UPDATE_PRODUCTS","UPDATE_CATEGORIES","UPDATE_CURRENT_CATEGORY","ADD_TO_CART","ADD_MULTIPLE_TO_CART","REMOVE_FROM_CART","UPDATE_CART_QUANTITY","CLEAR_CART","TOGGLE_CART","reducer","state","action","type","products","categories","currentCategory","cartOpen","cart","product","newState","filter","length","map","purchaseQuantity","useProductReducer","initialState","useReducer","StoreContext","createContext","Provider","StoreProvider","value","props","dispatch","useStoreContext","useContext","ProductItem","item","image","price","quantity","addToCart","itemInCart","find","cartItem","parseInt","QUERY_PRODUCTS","gql","QUERY_ALL_PRODUCTS","QUERY_CATEGORIES","QUERY_USER","QUERY_CHECKOUT","ProductList","useQuery","loading","data","useEffect","forEach","then","filterProducts","category","spinner","CategoryMenu","categoryData","handleClick","id","CartItem","removeFromCart","onChange","target","AuthService","decode","getToken","token","isTokenExpired","decoded","exp","Date","now","err","localStorage","getItem","idToken","setItem","location","assign","removeItem","stripePromise","loadStripe","Cart","useLazyQuery","getCheckout","getCart","res","redirectToCheckout","sessionId","checkout","session","toggleCart","calculateTotal","sum","toFixed","submitCheckout","productIds","i","push","variables","Auth","loggedIn","Home","Detail","useParams","useState","currentProduct","setCurrentProduct","indexedProducts","description","p","Jumbotron","children","height","clear","paddingTop","textAlign","NoMatch","LOGIN","ADD_ORDER","ADD_USER","Login","email","password","formState","setFormState","useMutation","login","error","handleFormSubmit","event","preventDefault","mutationResponse","handleChange","Signup","addUser","firstName","lastName","Nav","showNavigation","logout","OrderHistory","user","orders","order","purchaseDate","toLocaleDateString","index","Success","addOrder","saveOrder","productData","setTimeout","httpLink","createHttpLink","uri","authLink","setContext","_","headers","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","App","isLocalhost","Boolean","hostname","match","register","config","process","navigator","publicUrl","URL","href","origin","addEventListener","swUrl","checkValidServiceWorker","serviceWorker","ready","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","fetch","response","contentType","get","status","indexOf","unregister","reload","message","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","export function pluralize(name, count) {\n  if (count === 1) {\n    return name\n  }\n  return name + 's'\n}\n\nexport function idbPromise(storeName, method, object) {\n  return new Promise((resolve, reject) => {\n    // open connection to the database `shop-shop` with the version of 1\n    const request = window.indexedDB.open('shop-shop', 1);\n\n    // create variables to hold reference to the database, transaction (tx), and object store\n    let db, tx, store;\n\n    // if version has changed (or if this is the first time using the database), run this method and create the three object stores \n    request.onupgradeneeded = function (e) {\n      const db = request.result;\n      // create object store for each type of data and set \"primary\" key index to be the `_id` of the data\n      db.createObjectStore('products', { keyPath: '_id' });\n      db.createObjectStore('categories', { keyPath: '_id' });\n      db.createObjectStore('cart', { keyPath: '_id' });\n    };\n\n    // handle any errors with connecting\n    request.onerror = function (e) {\n      console.log('There was an error');\n    };\n\n    // on database open success\n    request.onsuccess = function (e) {\n      // save a reference of the database to the `db` variable\n      db = request.result;\n      // open a transaction do whatever we pass into `storeName` (must match one of the object store names)\n      tx = db.transaction(storeName, 'readwrite');\n      // save a reference to that object store\n      store = tx.objectStore(storeName);\n\n      // if there's any errors, let us know\n      db.onerror = function (e) {\n        console.log('error', e);\n      };\n\n      switch (method) {\n        case 'put':\n          store.put(object);\n          resolve(object);\n          break;\n        case 'get':\n          const all = store.getAll();\n          all.onsuccess = function() {\n            resolve(all.result);\n          };\n          break;\n        case 'delete':\n          store.delete(object._id);\n          break;\n        default:\n          console.log('No valid method');\n          break;\n      }\n      \n      // when the transaction is complete, close the connection\n      tx.oncomplete = function () {\n        db.close();\n      };\n    };\n\n  });\n}","export const UPDATE_PRODUCTS = \"UPDATE_PRODUCTS\";\n\nexport const UPDATE_CATEGORIES = \"UPDATE_CATEGORIES\";\nexport const UPDATE_CURRENT_CATEGORY = \"UPDATE_CURRENT_CATEGORY\";\n\nexport const ADD_TO_CART = 'ADD_TO_CART';\nexport const ADD_MULTIPLE_TO_CART = 'ADD_MULTIPLE_TO_CART';\nexport const REMOVE_FROM_CART = 'REMOVE_FROM_CART';\nexport const UPDATE_CART_QUANTITY = 'UPDATE_CART_QUANTITY';\nexport const CLEAR_CART = 'CLEAR_CART';\nexport const TOGGLE_CART = 'TOGGLE_CART';","import { useReducer } from \"react\";\nimport {\n  UPDATE_PRODUCTS,\n  UPDATE_CATEGORIES,\n  UPDATE_CURRENT_CATEGORY,\n  ADD_TO_CART,\n  ADD_MULTIPLE_TO_CART,\n  REMOVE_FROM_CART,\n  UPDATE_CART_QUANTITY,\n  CLEAR_CART,\n  TOGGLE_CART\n} from './actions';\n\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case UPDATE_PRODUCTS:\n      return {\n        ...state,\n        products: [...action.products],\n      };\n\n    case UPDATE_CATEGORIES:\n      return {\n        ...state,\n        categories: [...action.categories],\n      };\n\n    case UPDATE_CURRENT_CATEGORY:\n      return {\n        ...state,\n        currentCategory: action.currentCategory\n      };\n\n    case ADD_TO_CART:\n      return {\n        ...state,\n        cartOpen: true,\n        cart: [...state.cart, action.product]\n      };\n\n    case ADD_MULTIPLE_TO_CART:\n      return {\n        ...state,\n        cart: [...state.cart, ...action.products],\n      };\n\n    case REMOVE_FROM_CART:\n      let newState = state.cart.filter(product => {\n        return product._id !== action._id;\n      });\n\n      return {\n        ...state,\n        cartOpen: newState.length > 0,\n        cart: newState\n      };\n\n    case UPDATE_CART_QUANTITY:\n      return {\n        ...state,\n        cartOpen: true,\n        cart: state.cart.map(product => {\n          if (action._id === product._id) {\n            product.purchaseQuantity = action.purchaseQuantity;\n          }\n          return product;\n        })\n      };\n\n    case CLEAR_CART:\n      return {\n        ...state,\n        cartOpen: false,\n        cart: []\n      };\n\n    case TOGGLE_CART:\n      return {\n        ...state,\n        cartOpen: !state.cartOpen\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport function useProductReducer(initialState) {\n  return useReducer(reducer, initialState)\n}","import React, { createContext, useContext } from \"react\";\nimport { useProductReducer } from './reducers'\n\nconst StoreContext = createContext();\nconst { Provider } = StoreContext;\n\nconst StoreProvider = ({ value = [], ...props }) => {\n  const [state, dispatch] = useProductReducer({\n    products: [],\n    cart: [],\n    cartOpen: false,\n    categories: [],\n    currentCategory: ''\n  });\n\n  return <Provider value={[state, dispatch]} {...props} />;\n};\n\nconst useStoreContext = () => {\n  return useContext(StoreContext);\n};\n\nexport { StoreProvider, useStoreContext };\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { pluralize } from \"../../utils/helpers\"\nimport { useStoreContext } from '../../utils/GlobalState';\nimport { ADD_TO_CART, UPDATE_CART_QUANTITY } from '../../utils/actions';\nimport { idbPromise } from \"../../utils/helpers\";\n\nfunction ProductItem(item) {\n  const {\n    image,\n    name,\n    _id,\n    price,\n    quantity\n  } = item;\n\n  const [state, dispatch] = useStoreContext();\n\n  const { cart } = state;\n\n  const addToCart = () => {\n    const itemInCart = cart.find((cartItem) => cartItem._id === _id)\n    if (itemInCart) {\n      dispatch({\n        type: UPDATE_CART_QUANTITY,\n        _id: _id,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n      idbPromise('cart', 'put', {\n        ...itemInCart,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n    } else {\n      dispatch({\n        type: ADD_TO_CART,\n        product: { ...item, purchaseQuantity: 1 }\n      });\n      idbPromise('cart', 'put', { ...item, purchaseQuantity: 1 });\n    }\n  }\n\n  return (\n    <div className=\"card px-1 py-1\">\n      <Link to={`/products/${_id}`}>\n        <img\n          alt={name}\n          src={`/images/${image}`}\n        />\n        <p>{name}</p>\n      </Link>\n      <div>\n        <div>{quantity} {pluralize(\"item\", quantity)} in stock</div>\n        <span>${price}</span>\n      </div>\n      <button onClick={addToCart}>Add to cart</button>\n    </div>\n  );\n}\n\nexport default ProductItem;\n","import { gql } from '@apollo/client';\n\nexport const QUERY_PRODUCTS = gql`\n  query getProducts($category: ID) {\n    products(category: $category) {\n      _id\n      name\n      description\n      price\n      quantity\n      image\n      category {\n        _id\n      }\n    }\n  }\n`;\n\nexport const QUERY_ALL_PRODUCTS = gql`\n  {\n    products {\n      _id\n      name\n      description\n      price\n      quantity\n      category {\n        name\n      }\n    }\n  }\n`;\n\nexport const QUERY_CATEGORIES = gql`\n  {\n    categories {\n      _id\n      name\n    }\n  }\n`;\n\nexport const QUERY_USER = gql`\n  {\n    user {\n      firstName\n      lastName\n      orders {\n        _id\n        purchaseDate\n        products {\n          _id\n          name\n          description\n          price\n          quantity\n          image\n        }\n      }\n    }\n  }\n`;\n\nexport const QUERY_CHECKOUT = gql`\n  query getCheckout($products: [ID]!) {\n    checkout(products: $products) {\n      session\n    }\n  }\n`;","export default __webpack_public_path__ + \"static/media/spinner.689d9a07.gif\";","import React, { useEffect } from 'react';\nimport { useQuery } from '@apollo/client';\n\nimport ProductItem from '../ProductItem';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport { UPDATE_PRODUCTS } from '../../utils/actions';\nimport { QUERY_PRODUCTS } from '../../utils/queries';\nimport spinner from '../../assets/spinner.gif';\nimport { idbPromise } from \"../../utils/helpers\";\n\nfunction ProductList() {\n  const [state, dispatch] = useStoreContext();\n\n  const { currentCategory } = state;\n\n  const { loading, data } = useQuery(QUERY_PRODUCTS);\n\n  useEffect(() => {\n    if(data) {\n      dispatch({\n        type: UPDATE_PRODUCTS,\n        products: data.products\n      });\n  \n      data.products.forEach((product) => {\n        idbPromise('products', 'put', product);\n      });\n      // add else if to check if `loading` is undefined in `useQuery()` Hook\n    } else if (!loading) {\n      // since we're offline, get all of the data from the `products` store\n      idbPromise('products', 'get').then((products) => {\n        // use retrieved data to set global state for offline browsing\n        dispatch({\n          type: UPDATE_PRODUCTS,\n          products: products\n        });\n      });\n    }\n  }, [data, loading, dispatch]);\n\n  function filterProducts() {\n    if (!currentCategory) {\n      return state.products;\n    }\n\n    return state.products.filter(\n      (product) => product.category._id === currentCategory\n    );\n  }\n\n  return (\n    <div className=\"my-2\">\n      <h2>Our Products:</h2>\n      {state.products.length ? (\n        <div className=\"flex-row\">\n          {filterProducts().map((product) => (\n            <ProductItem\n              key={product._id}\n              _id={product._id}\n              image={product.image}\n              name={product.name}\n              price={product.price}\n              quantity={product.quantity}\n            />\n          ))}\n        </div>\n      ) : (\n        <h3>You haven't added any products yet!</h3>\n      )}\n      {loading ? <img src={spinner} alt=\"loading\" /> : null}\n    </div>\n  );\n}\n\nexport default ProductList;\n","import React, { useEffect } from 'react';\nimport { useQuery } from '@apollo/client';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport {\n  UPDATE_CATEGORIES,\n  UPDATE_CURRENT_CATEGORY,\n} from '../../utils/actions';\nimport { QUERY_CATEGORIES } from '../../utils/queries';\nimport { idbPromise } from '../../utils/helpers';\n\nfunction CategoryMenu() {\n  const [state, dispatch] = useStoreContext();\n\n  const { categories } = state;\n\n  const { loading, data: categoryData } = useQuery(QUERY_CATEGORIES);\n\n  useEffect(() => {\n    if (categoryData) {\n      dispatch({\n        type: UPDATE_CATEGORIES,\n        categories: categoryData.categories\n      });\n      categoryData.categories.forEach(category => {\n        idbPromise('categories', 'put', category);\n      });\n    } else if (!loading) {\n      idbPromise('categories', 'get').then(categories => {\n        dispatch({\n          type: UPDATE_CATEGORIES,\n          categories: categories\n        });\n      });\n    }\n  }, [categoryData, loading, dispatch]);\n\n  const handleClick = (id) => {\n    dispatch({\n      type: UPDATE_CURRENT_CATEGORY,\n      currentCategory: id,\n    });\n  };\n\n  return (\n    <div>\n      <h2>Choose a Category:</h2>\n      {categories.map((item) => (\n        <button\n          key={item._id}\n          onClick={() => {\n            handleClick(item._id);\n          }}\n        >\n          {item.name}\n        </button>\n      ))}\n    </div>\n  );\n}\n\nexport default CategoryMenu;\n","import React from 'react';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport { REMOVE_FROM_CART, UPDATE_CART_QUANTITY } from '../../utils/actions';\nimport { idbPromise } from \"../../utils/helpers\";\n\nconst CartItem = ({ item }) => {\n\n    const [, dispatch] = useStoreContext();\n\n    const removeFromCart = item => {\n        dispatch({\n            type: REMOVE_FROM_CART,\n            _id: item._id\n        });\n        idbPromise('cart', 'delete', { ...item });\n    };\n\n    const onChange = (e) => {\n        const value = e.target.value;\n\n        if (value === '0') {\n            dispatch({\n                type: REMOVE_FROM_CART,\n                _id: item._id\n            });\n\n            idbPromise('cart', 'delete', { ...item });\n        } else {\n            dispatch({\n                type: UPDATE_CART_QUANTITY,\n                _id: item._id,\n                purchaseQuantity: parseInt(value)\n            });\n\n            idbPromise('cart', 'put', { ...item, purchaseQuantity: parseInt(value) });\n        }\n    };\n\n    return (\n        <div className=\"flex-row\">\n            <div>\n                <img\n                    src={`/images/${item.image}`}\n                    alt=\"\"\n                />\n            </div>\n            <div>\n                <div>{item.name}, ${item.price}</div>\n                <div>\n                    <span>Qty:</span>\n                    <input\n                        type=\"number\"\n                        placeholder=\"1\"\n                        value={item.purchaseQuantity}\n                        onChange={onChange}\n                    />\n                    <span\n                        role=\"img\"\n                        aria-label=\"trash\"\n                        onClick={() => removeFromCart(item)}\n                    >\n                        \n                    </span>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default CartItem;","import decode from 'jwt-decode';\n\nclass AuthService {\n  getProfile() {\n    return decode(this.getToken());\n  }\n\n  loggedIn() {\n    // Checks if there is a saved token and it's still valid\n    const token = this.getToken();\n    return !!token && !this.isTokenExpired(token);\n  }\n\n  isTokenExpired(token) {\n    try {\n      const decoded = decode(token);\n      if (decoded.exp < Date.now() / 1000) {\n        return true;\n      } else return false;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  getToken() {\n    // Retrieves the user token from localStorage\n    return localStorage.getItem('id_token');\n  }\n\n  login(idToken) {\n    // Saves user token to localStorage\n    localStorage.setItem('id_token', idToken);\n\n    window.location.assign('/');\n  }\n\n  logout() {\n    // Clear user token and profile data from localStorage\n    localStorage.removeItem('id_token');\n    // this will reload the page and reset the state of the application\n    window.location.assign('/');\n  }\n}\n\nexport default new AuthService();\n","import React, { useEffect } from \"react\";\nimport CartItem from '../CartItem';\nimport Auth from '../../utils/auth';\nimport './style.css';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport { TOGGLE_CART, ADD_MULTIPLE_TO_CART } from \"../../utils/actions\";\nimport { idbPromise } from \"../../utils/helpers\";\nimport { QUERY_CHECKOUT } from '../../utils/queries';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { useLazyQuery } from '@apollo/client';\nconst stripePromise = loadStripe('pk_test_TYooMQauvdEDq54NiTphI7jx');\n\nconst Cart = () => {\n    const [state, dispatch] = useStoreContext();\n    const [getCheckout, { data }] = useLazyQuery(QUERY_CHECKOUT);\n\n    useEffect(() => {\n        async function getCart() {\n            const cart = await idbPromise('cart', 'get');\n            dispatch({ type: ADD_MULTIPLE_TO_CART, products: [...cart] });\n        };\n\n        if (!state.cart.length) {\n            getCart();\n        }\n    }, [state.cart.length, dispatch]);\n\n    useEffect(() => {\n        if (data) {\n            stripePromise.then((res) => {\n                res.redirectToCheckout({ sessionId: data.checkout.session });\n            });\n        }\n    }, [data]);\n\n    function toggleCart() {\n        dispatch({ type: TOGGLE_CART });\n    }\n\n    function calculateTotal() {\n        let sum = 0;\n        state.cart.forEach(item => {\n            sum += item.price * item.purchaseQuantity;\n        });\n        return sum.toFixed(2);\n    }\n\n    function submitCheckout() {\n        const productIds = [];\n\n        state.cart.forEach((item) => {\n            for (let i = 0; i < item.purchaseQuantity; i++) {\n                productIds.push(item._id);\n            }\n        });\n\n        getCheckout({\n            variables: { products: productIds }\n        });\n    }\n\n    if (!state.cartOpen) {\n        return (\n            <div className=\"cart-closed\" onClick={toggleCart}>\n                <span\n                    role=\"img\"\n                    aria-label=\"trash\"></span>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"cart\">\n            <div className=\"close\" onClick={toggleCart}>[close]</div>\n            <h2>Shopping Cart</h2>\n            {state.cart.length ? (\n                <div>\n                    {state.cart.map(item => (\n                        <CartItem key={item._id} item={item} />\n                    ))}\n                    <div className=\"flex-row space-between\">\n                        <strong>Total: ${calculateTotal()}</strong>\n                        {\n                            Auth.loggedIn() ?\n                                <button onClick={submitCheckout}>\n                                    Checkout\n                                </button>\n                                :\n                                <span>(log in to check out)</span>\n                        }\n                    </div>\n                </div>\n            ) : (\n                <h3>\n                    <span role=\"img\" aria-label=\"shocked\">\n                        \n                    </span>\n                    You haven't added anything to your cart yet!\n                </h3>\n            )}\n        </div>\n    );\n};\n\nexport default Cart;","import React from \"react\";\nimport ProductList from \"../components/ProductList\";\nimport CategoryMenu from \"../components/CategoryMenu\";\nimport Cart from '../components/Cart';\n\nconst Home = () => {\n  return (\n    <div className=\"container\">\n      <CategoryMenu />\n      <ProductList />\n      <Cart />\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\n\nimport Cart from '../components/Cart';\nimport { useStoreContext } from '../utils/GlobalState';\nimport {\n  REMOVE_FROM_CART,\n  UPDATE_CART_QUANTITY,\n  ADD_TO_CART,\n  UPDATE_PRODUCTS,\n} from '../utils/actions';\nimport { QUERY_PRODUCTS } from '../utils/queries';\nimport spinner from '../assets/spinner.gif';\nimport { idbPromise } from \"../utils/helpers\";\n\nfunction Detail() {\n  const [state, dispatch] = useStoreContext();\n  const { id } = useParams();\n\n  const [currentProduct, setCurrentProduct] = useState({});\n\n  const { loading, data } = useQuery(QUERY_PRODUCTS);\n\n  const { products, cart } = state;\n\n  useEffect(() => {\n    // already in global store\n    if (products.length) {\n      setCurrentProduct(products.find(product => product._id === id));\n    }\n    // retrieved from server\n    else if (data) {\n      dispatch({\n        type: UPDATE_PRODUCTS,\n        products: data.products\n      });\n\n      data.products.forEach((product) => {\n        idbPromise('products', 'put', product);\n      });\n    }\n    // get cache from idb\n    else if (!loading) {\n      idbPromise('products', 'get').then((indexedProducts) => {\n        dispatch({\n          type: UPDATE_PRODUCTS,\n          products: indexedProducts\n        });\n      });\n    }\n  }, [products, data, loading, dispatch, id]);\n\n  const addToCart = () => {\n    const itemInCart = cart.find((cartItem) => cartItem._id === id)\n\n    if (itemInCart) {\n      dispatch({\n        type: UPDATE_CART_QUANTITY,\n        _id: id,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n      // if we're updating quantity, use existing item data and increment purchaseQuantity value by one\n      idbPromise('cart', 'put', {\n        ...itemInCart,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n    } else {\n      dispatch({\n        type: ADD_TO_CART,\n        product: { ...currentProduct, purchaseQuantity: 1 }\n      });\n      // if product isn't in the cart yet, add it to the current shopping cart in IndexedDB\n      idbPromise('cart', 'put', { ...currentProduct, purchaseQuantity: 1 });\n    }\n  }\n\n  const removeFromCart = () => {\n    dispatch({\n      type: REMOVE_FROM_CART,\n      _id: currentProduct._id\n    });\n\n    // upon removal from cart, delete the item from IndexedDB using the `currentProduct._id` to locate what to remove\n    idbPromise('cart', 'delete', { ...currentProduct });\n  };\n\n  return (\n    <>\n      {currentProduct && cart ? (\n        <div className=\"container my-1\">\n          <Link to=\"/\"> Back to Products</Link>\n\n          <h2>{currentProduct.name}</h2>\n\n          <p>{currentProduct.description}</p>\n\n          <p>\n            <strong>Price:</strong>${currentProduct.price}{' '}\n            <button onClick={addToCart}>Add to Cart</button>\n            <button\n              disabled={!cart.find((p) => p._id === currentProduct._id)}\n              onClick={removeFromCart}\n            >\n              Remove from Cart\n            </button>\n          </p>\n\n          <img\n            src={`/images/${currentProduct.image}`}\n            alt={currentProduct.name}\n          />\n        </div>\n      ) : null}\n      {loading ? <img src={spinner} alt=\"loading\" /> : null}\n      <Cart />\n    </>\n  );\n}\n\nexport default Detail;\n","import React from \"react\";\n\nfunction Jumbotron({ children }) {\n  return (\n    <div\n      style={{ height: 560, clear: \"both\", paddingTop: 120, textAlign: \"center\" }}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport default Jumbotron;\n","import React from \"react\";\nimport Jumbotron from \"../components/Jumbotron\";\n\nconst NoMatch = () => {\n  return (\n    <div>\n      <Jumbotron>\n        <h1>404 Page Not Found</h1>\n        <h1>\n          <span role=\"img\" aria-label=\"Face With Rolling Eyes Emoji\">\n            \n          </span>\n        </h1>\n      </Jumbotron>\n    </div>\n  );\n};\n\nexport default NoMatch;\n","import { gql } from '@apollo/client';\n\nexport const LOGIN = gql`\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n`;\n\nexport const ADD_ORDER = gql`\n  mutation addOrder($products: [ID]!) {\n    addOrder(products: $products) {\n      purchaseDate\n      products {\n        _id\n        name\n        description\n        price\n        quantity\n        category {\n          name\n        }\n      }\n    }\n  }\n`;\n\nexport const ADD_USER = gql`\n  mutation addUser(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n  ) {\n    addUser(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n`;\n","import React, { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport { Link } from 'react-router-dom';\nimport { LOGIN } from '../utils/mutations';\nimport Auth from '../utils/auth';\n\nfunction Login(props) {\n  const [formState, setFormState] = useState({ email: '', password: '' });\n  const [login, { error }] = useMutation(LOGIN);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const mutationResponse = await login({\n        variables: { email: formState.email, password: formState.password },\n      });\n      const token = mutationResponse.data.login.token;\n      Auth.login(token);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  return (\n    <div className=\"container my-1\">\n      <Link to=\"/signup\"> Go to Signup</Link>\n\n      <h2>Login</h2>\n      <form onSubmit={handleFormSubmit}>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"email\">Email address:</label>\n          <input\n            placeholder=\"youremail@test.com\"\n            name=\"email\"\n            type=\"email\"\n            id=\"email\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"pwd\">Password:</label>\n          <input\n            placeholder=\"******\"\n            name=\"password\"\n            type=\"password\"\n            id=\"pwd\"\n            onChange={handleChange}\n          />\n        </div>\n        {error ? (\n          <div>\n            <p className=\"error-text\">The provided credentials are incorrect</p>\n          </div>\n        ) : null}\n        <div className=\"flex-row flex-end\">\n          <button type=\"submit\">Submit</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport Auth from '../utils/auth';\nimport { ADD_USER } from '../utils/mutations';\n\nfunction Signup(props) {\n  const [formState, setFormState] = useState({ email: '', password: '' });\n  const [addUser] = useMutation(ADD_USER);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n    const mutationResponse = await addUser({\n      variables: {\n        email: formState.email,\n        password: formState.password,\n        firstName: formState.firstName,\n        lastName: formState.lastName,\n      },\n    });\n    const token = mutationResponse.data.addUser.token;\n    Auth.login(token);\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  return (\n    <div className=\"container my-1\">\n      <Link to=\"/login\"> Go to Login</Link>\n\n      <h2>Signup</h2>\n      <form onSubmit={handleFormSubmit}>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"firstName\">First Name:</label>\n          <input\n            placeholder=\"First\"\n            name=\"firstName\"\n            type=\"firstName\"\n            id=\"firstName\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"lastName\">Last Name:</label>\n          <input\n            placeholder=\"Last\"\n            name=\"lastName\"\n            type=\"lastName\"\n            id=\"lastName\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"email\">Email:</label>\n          <input\n            placeholder=\"youremail@test.com\"\n            name=\"email\"\n            type=\"email\"\n            id=\"email\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"pwd\">Password:</label>\n          <input\n            placeholder=\"******\"\n            name=\"password\"\n            type=\"password\"\n            id=\"pwd\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row flex-end\">\n          <button type=\"submit\">Submit</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Signup;\n","import React from \"react\";\nimport Auth from \"../../utils/auth\";\nimport { Link } from \"react-router-dom\";\n\nfunction Nav() {\n\n  function showNavigation() {\n    if (Auth.loggedIn()) {\n      return (\n        <ul className=\"flex-row\">\n          <li className=\"mx-1\">\n            <Link to=\"/orderHistory\">\n              Order History\n            </Link>\n          </li>\n          <li className=\"mx-1\">\n            {/* this is not using the Link component to logout or user and then refresh the application to the start */}\n            <a href=\"/\" onClick={() => Auth.logout()}>\n              Logout\n            </a>\n          </li>\n        </ul>\n      );\n    } else {\n      return (\n        <ul className=\"flex-row\">\n          <li className=\"mx-1\">\n            <Link to=\"/signup\">\n              Signup\n            </Link>\n          </li>\n          <li className=\"mx-1\">\n            <Link to=\"/login\">\n              Login\n            </Link>\n          </li>\n        </ul>\n      );\n    }\n  }\n\n  return (\n    <header className=\"flex-row px-1\">\n      <h1>\n        <Link to=\"/\">\n          <span role=\"img\" aria-label=\"shopping bag\"></span>\n          -Shop-Shop\n        </Link>\n      </h1>\n\n      <nav>\n        {showNavigation()}\n      </nav>\n    </header>\n  );\n}\n\nexport default Nav;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { useQuery } from '@apollo/client';\nimport { QUERY_USER } from '../utils/queries';\n\nfunction OrderHistory() {\n  const { data } = useQuery(QUERY_USER);\n  let user;\n\n  if (data) {\n    user = data.user;\n  }\n\n  return (\n    <>\n      <div className=\"container my-1\">\n        <Link to=\"/\"> Back to Products</Link>\n\n        {user ? (\n          <>\n            <h2>\n              Order History for {user.firstName} {user.lastName}\n            </h2>\n            {user.orders.map((order) => (\n              <div key={order._id} className=\"my-2\">\n                <h3>\n                  {new Date(parseInt(order.purchaseDate)).toLocaleDateString()}\n                </h3>\n                <div className=\"flex-row\">\n                  {order.products.map(({ _id, image, name, price }, index) => (\n                    <div key={index} className=\"card px-1 py-1\">\n                      <Link to={`/products/${_id}`}>\n                        <img alt={name} src={`/images/${image}`} />\n                        <p>{name}</p>\n                      </Link>\n                      <div>\n                        <span>${price}</span>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            ))}\n          </>\n        ) : null}\n      </div>\n    </>\n  );\n}\n\nexport default OrderHistory;\n","import React, { useEffect } from 'react';\nimport { useMutation } from '@apollo/client';\nimport Jumbotron from '../components/Jumbotron';\nimport { ADD_ORDER } from '../utils/mutations';\nimport { idbPromise } from '../utils/helpers';\n\nfunction Success() {\n    const [addOrder] = useMutation(ADD_ORDER);\n\n    useEffect(() => {\n        async function saveOrder() {\n            const cart = await idbPromise('cart', 'get');\n            const products = cart.map((item) => item._id);\n\n            if (products.length) {\n                const { data } = await addOrder({ variables: { products } });\n                const productData = data.addOrder.products;\n\n                productData.forEach((item) => {\n                    idbPromise('cart', 'delete', item);\n                });\n            }\n\n            setTimeout(() => {\n                window.location.assign('/');\n            }, 3000);\n        }\n\n        saveOrder();\n    }, [addOrder]);\n\n    return (\n        <div>\n            <Jumbotron>\n                <h1>Success!</h1>\n                <h2>Thank you for your purchase!</h2>\n                <h2>You will now be redirected to the home page</h2>\n            </Jumbotron>\n        </div>\n    );\n}\n\nexport default Success;\n","import React from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport {\n  ApolloClient,\n  InMemoryCache,\n  ApolloProvider,\n  createHttpLink,\n} from '@apollo/client';\nimport { setContext } from '@apollo/client/link/context';\n\nimport Home from './pages/Home';\nimport Detail from './pages/Detail';\nimport NoMatch from './pages/NoMatch';\nimport Login from './pages/Login';\nimport Signup from './pages/Signup';\nimport Nav from './components/Nav';\nimport { StoreProvider } from './utils/GlobalState';\nimport OrderHistory from './pages/OrderHistory';\nimport Success from './pages/Success';\n\nconst httpLink = createHttpLink({\n  uri: '/graphql',\n});\n\nconst authLink = setContext((_, { headers }) => {\n  const token = localStorage.getItem('id_token');\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : '',\n    },\n  };\n});\n\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n});\n\nfunction App() {\n  return (\n    <ApolloProvider client={client}>\n      <Router>\n        <div>\n          <StoreProvider>\n            <Nav />\n            <Routes>\n              <Route\n                path=\"/\"\n                element={<Home />}\n              />\n              <Route\n                path=\"/login\"\n                element={<Login />}\n              />\n              <Route\n                path=\"/signup\"\n                element={<Signup />}\n              />\n              <Route\n                path=\"/orderHistory\"\n                element={<OrderHistory />}\n              />\n              <Route\n                path=\"/products/:id\"\n                element={<Detail />}\n              />\n              <Route\n                path=\"*\"\n                element={<NoMatch />}\n              />\n              <Route\n                path=\"/success\"\n                element={<Success />}\n              />\n            </Routes>\n          </StoreProvider>\n        </div>\n      </Router>\n    </ApolloProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (\n    process.env.NODE_ENV === 'production' &&\n    'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"]}}